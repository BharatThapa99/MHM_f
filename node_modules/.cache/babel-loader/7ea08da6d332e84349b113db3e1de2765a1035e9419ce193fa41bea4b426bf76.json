{"ast":null,"code":"import _toConsumableArray from\"/home/chhabi/Desktop/MHM_MHM/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/home/chhabi/Desktop/MHM_MHM/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/chhabi/Desktop/MHM_MHM/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/chhabi/Desktop/MHM_MHM/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useRef}from\"react\";import\"./doctorai.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DcotorAI=function DcotorAI(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),messages=_useState2[0],setMessages=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),input=_useState4[0],setInput=_useState4[1];var endOfMessages=useRef(null);var scrollToBottom=function scrollToBottom(){endOfMessages.current.scrollIntoView({behavior:\"smooth\"});};useEffect(scrollToBottom,[messages]);var fetchResponse=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(message){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/apis/doctorai/\",{method:\"POST\",body:JSON.stringify({message:message}),headers:{\"Content-Type\":\"application/json\"}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;return _context.abrupt(\"return\",data);case 7:case\"end\":return _context.stop();}},_callee);}));return function fetchResponse(_x){return _ref.apply(this,arguments);};}();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.preventDefault();setMessages([].concat(_toConsumableArray(messages),[{text:input,sender:\"user\"}]));_context2.next=4;return fetchResponse(input);case 4:data=_context2.sent;setMessages(function(prevMessages){return[].concat(_toConsumableArray(prevMessages),[{text:data.message,sender:\"bot\"}]);});setInput(\"\");case 7:case\"end\":return _context2.stop();}},_callee2);}));return function handleSubmit(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chat-container\",children:[messages.map(function(message,index){return/*#__PURE__*/_jsx(\"div\",{className:message.sender,children:/*#__PURE__*/_jsx(\"p\",{children:message.text})},index);}),/*#__PURE__*/_jsx(\"div\",{ref:endOfMessages})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{value:input,onChange:function onChange(e){return setInput(e.target.value);},placeholder:\"Type a message\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Send\"})]})]});};export default DcotorAI;","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","DcotorAI","_useState","_useState2","_slicedToArray","messages","setMessages","_useState3","_useState4","input","setInput","endOfMessages","scrollToBottom","current","scrollIntoView","behavior","fetchResponse","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","message","response","data","wrap","_callee$","_context","prev","next","fetch","method","body","JSON","stringify","headers","sent","json","abrupt","stop","_x","apply","arguments","handleSubmit","_ref2","_callee2","e","_callee2$","_context2","preventDefault","concat","_toConsumableArray","text","sender","prevMessages","_x2","className","children","map","index","ref","onSubmit","value","onChange","target","placeholder","type"],"sources":["/home/chhabi/Desktop/MHM_MHM/frontend/src/Containers/DoctorAI/DoctorAI.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport \"./doctorai.css\";\n\nconst DcotorAI = () => {\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const endOfMessages = useRef(null);\n\n  const scrollToBottom = () => {\n    endOfMessages.current.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  useEffect(scrollToBottom, [messages]);\n\n  const fetchResponse = async (message) => {\n    const response = await fetch(\"/apis/doctorai/\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        message: message,\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    });\n    const data = await response.json();\n    return data;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setMessages([...messages, { text: input, sender: \"user\" }]);\n    const data = await fetchResponse(input);\n    setMessages((prevMessages) => [\n      ...prevMessages,\n      { text: data.message, sender: \"bot\" },\n    ]);\n    setInput(\"\");\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"chat-container\">\n        {messages.map((message, index) => (\n          <div key={index} className={message.sender}>\n            <p>{message.text}</p>\n          </div>\n        ))}\n        <div ref={endOfMessages} />\n      </div>\n      <form onSubmit={handleSubmit}>\n        <input\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          placeholder=\"Type a message\"\n        />\n        <button type=\"submit\">Send</button>\n      </form>\n    </div>\n  );\n};\n\nexport default DcotorAI;\n"],"mappings":"ogBAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,MAAO,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExB,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAA,CAAS,CACrB,IAAAC,SAAA,CAAgCR,QAAQ,CAAC,EAAE,CAAC,CAAAS,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,UAAA,CAA0Bb,QAAQ,CAAC,EAAE,CAAC,CAAAc,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA/BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,GAAM,CAAAG,aAAa,CAAGf,MAAM,CAAC,IAAI,CAAC,CAElC,GAAM,CAAAgB,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CAC3BD,aAAa,CAACE,OAAO,CAACC,cAAc,CAAC,CAAEC,QAAQ,CAAE,QAAS,CAAC,CAAC,CAC9D,CAAC,CAEDpB,SAAS,CAACiB,cAAc,CAAE,CAACP,QAAQ,CAAC,CAAC,CAErC,GAAM,CAAAW,aAAa,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,OAAO,MAAAC,QAAA,CAAAC,IAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACX,CAAAC,KAAK,CAAC,iBAAiB,CAAE,CAC9CC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBZ,OAAO,CAAEA,OACX,CAAC,CAAC,CACFa,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,QARIZ,QAAQ,CAAAI,QAAA,CAAAS,IAAA,CAAAT,QAAA,CAAAE,IAAA,SASK,CAAAN,QAAQ,CAACc,IAAI,CAAC,CAAC,QAA5Bb,IAAI,CAAAG,QAAA,CAAAS,IAAA,QAAAT,QAAA,CAAAW,MAAA,UACHd,IAAI,0BAAAG,QAAA,CAAAY,IAAA,MAAAlB,OAAA,GACZ,kBAZK,CAAAL,aAAaA,CAAAwB,EAAA,SAAAvB,IAAA,CAAAwB,KAAA,MAAAC,SAAA,OAYlB,CAED,GAAM,CAAAC,YAAY,6BAAAC,KAAA,CAAA1B,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAyB,SAAOC,CAAC,MAAAtB,IAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAsB,UAAAC,SAAA,iBAAAA,SAAA,CAAApB,IAAA,CAAAoB,SAAA,CAAAnB,IAAA,SAC3BiB,CAAC,CAACG,cAAc,CAAC,CAAC,CAClB3C,WAAW,IAAA4C,MAAA,CAAAC,kBAAA,CAAK9C,QAAQ,GAAE,CAAE+C,IAAI,CAAE3C,KAAK,CAAE4C,MAAM,CAAE,MAAO,CAAC,EAAC,CAAC,CAACL,SAAA,CAAAnB,IAAA,SACzC,CAAAb,aAAa,CAACP,KAAK,CAAC,QAAjCe,IAAI,CAAAwB,SAAA,CAAAZ,IAAA,CACV9B,WAAW,CAAC,SAACgD,YAAY,WAAAJ,MAAA,CAAAC,kBAAA,CACpBG,YAAY,GACf,CAAEF,IAAI,CAAE5B,IAAI,CAACF,OAAO,CAAE+B,MAAM,CAAE,KAAM,CAAC,IACtC,CAAC,CACF3C,QAAQ,CAAC,EAAE,CAAC,CAAC,wBAAAsC,SAAA,CAAAT,IAAA,MAAAM,QAAA,GACd,kBATK,CAAAF,YAAYA,CAAAY,GAAA,SAAAX,KAAA,CAAAH,KAAA,MAAAC,SAAA,OASjB,CAED,mBACE1C,KAAA,QAAKwD,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBzD,KAAA,QAAKwD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAC5BpD,QAAQ,CAACqD,GAAG,CAAC,SAACpC,OAAO,CAAEqC,KAAK,qBAC3B7D,IAAA,QAAiB0D,SAAS,CAAElC,OAAO,CAAC+B,MAAO,CAAAI,QAAA,cACzC3D,IAAA,MAAA2D,QAAA,CAAInC,OAAO,CAAC8B,IAAI,CAAI,CAAC,EADbO,KAEL,CAAC,EACP,CAAC,cACF7D,IAAA,QAAK8D,GAAG,CAAEjD,aAAc,CAAE,CAAC,EACxB,CAAC,cACNX,KAAA,SAAM6D,QAAQ,CAAElB,YAAa,CAAAc,QAAA,eAC3B3D,IAAA,UACEgE,KAAK,CAAErD,KAAM,CACbsD,QAAQ,CAAE,SAAAA,SAACjB,CAAC,QAAK,CAAApC,QAAQ,CAACoC,CAAC,CAACkB,MAAM,CAACF,KAAK,CAAC,EAAC,CAC1CG,WAAW,CAAC,gBAAgB,CAC7B,CAAC,cACFnE,IAAA,WAAQoE,IAAI,CAAC,QAAQ,CAAAT,QAAA,CAAC,MAAI,CAAQ,CAAC,EAC/B,CAAC,EACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAxD,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}